<html>
<head>
  <title>Complex Layout</title>
	<link rel="stylesheet" type="text/css" href="./include/ext2/resources/css/ext-all.css" />
    
    <!-- GC -->
 	<!-- LIBS -->
 	<script type="text/javascript" src="./include/ext2/adapter/ext/ext-base.js"></script>
 	<!-- ENDLIBS -->

    <script type="text/javascript" src="./include/ext2/ext-all.js"></script>
  
    <!--<script language="javascript" src="../grid/PropsGrid.js"></script>-->
	<style type="text/css">
	html, body {
        font:normal 12px verdana;
        margin:0;
        padding:0;
        border:0 none;
        overflow:hidden;
        height:100%;
    }
	p {
	    margin:5px;
	}
    .settings {
        background-image:url(./include/ext2/examples/shared/icons/fam/folder_wrench.png);
    }
    .nav {
        background-image:url(./include/ext2/examples/shared/icons/fam/folder_go.png);
    }
    </style>
	<script type="text/javascript">
    Ext.onReady(function(){

        Ext.state.Manager.setProvider(new Ext.state.CookieProvider());


       viewport = new Ext.Viewport({
            layout:'border',
            items:[
                new Ext.BoxComponent({ // raw
                    region:'north',
                    el: 'north',
                    height:10,
                    margins:'0 0 4 0'
                }),{
                    region:'west',
                    id:'west-panel',
                    split:true,
                    width: 175,
                    minSize: 175,
                    maxSize: 400,
                    collapsible: true,
        			collapseMode:'mini',
                    margins:'0 0 4 5',
                    layout:'accordion',
                    layoutConfig:{
                        animate:true
                    },
                    items: [{
                        contentEl: 'west',
                        title:'Navigation',
                        border:false,
                        iconCls:'nav'
                        //iconCls:'settings'
                    }]
                },
                new Ext.TabPanel({
                    region:'center',
                    deferredRender:false,
					autoScroll: true, 
                    margins:'0 4 4 0',
                    activeTab:0,
                    items:[{
                        contentEl:'center1',
            			autoLoad: {url: 'index.php', callback: this.initSearch, scope: this},
                        title: 'Simple Invoices',
                        closable:false,
                        autoScroll:true
                    },{
                        contentEl:'center2',
            			autoLoad: {url: 'docs.php?p=ReadMe', callback: this.initSearch, scope: this},
                        title: 'Documentation',
                        closable:true,
                        autoScroll:true
                    },{
                        contentEl:'center3',
            			autoLoad: {url: 'index.php?module=invoices&view=manage', callback: this.initSearch, scope: this},
                        title: 'Add Biller',
                        closable:true,
                        autoScroll:true
                    }]
                })
             ]
        });

		//var params = {};
		//var center = viewport.getRegion('center'); //i am the center region 
		//var panel = center.getPanel(0); //i am the first content panel in center
		//panel.setUrl('index.php?module=invoices&view=total', params); //set the url
		//Ext.get('center-iframe').dom.src = 'index.php';
     
//	var taskActions = new Ext.Panel({
//         frame:true,
 //        title: 'Task Actions',
  //       collapsible:true,
   //      contentEl:'task-actions',
    //     titleCollapse: true
    // })
addCenterGrid : function(grid)
{
	layout.beginUpdate();
	layout.add('center', new Ext.GridPanel(grid, {title: 'Title', closable: false}));
	layout.endUpdate();
}

var el = Ext.get('testlink');
	el.on('click', function(){
	activate('center2');
	//alert(this.id);
    //alert('you click on a link');
});

    });
	</script>
</head>
<body>
<script type="text/javascript" src="./ext/examples/examples.js"></script><!-- EXAMPLES -->
  <div id="west">
    <p><a href="index.php" target="center-iframe">Home</a></p>
    <p><a href="index.php?module=invoices&view=total" onclick="viewport.activate('center1');">New Invoice</a><br>
   <a href="index.php?module=invoices&view=itemised" target="#center1">New Invoice- Consulting</a><br>
   <a id="testlink" href="#" onclick="addCentreGrid();">New Invoice-Itemised</a><br>
   <a href="index.php?module=invoices&view=total" target="center3">New Customer</a><br>
   <a href="index.php?module=products&view=add" target="center-iframe">New Products</a><br>
   <a href="index.php?module=payments&view=total" target="center-iframe">Payment</a>
<li class="x-tree-node">
<div class="x-tree-node-el x-tree-node-leaf feed" ext:tree-node-id="http://extjs.com/news/archive/feed">
<span class="x-tree-node-indent">
<img class="x-tree-icon" src="http://extjs.com/s.gif"/>
</span>
<img class="x-tree-ec-icon x-tree-elbow" src="http://extjs.com/s.gif"/>
<img class="x-tree-node-icon feed-icon" unselectable="on" src="http://extjs.com/s.gif"/>
<a class="x-tree-node-anchor" tabindex="1" href="" hidefocus="on">
<span unselectable="on">ExtJS.com News</span>
</a>
</div>
<ul class="x-tree-node-ct" style="display: none;"/>

  </div>
  <div id="north">
  </div>
  <div id="center1">
    </div>
  <div id="center2">
  </div>

  <div id="center3">
</div>
 </body>
</html>
